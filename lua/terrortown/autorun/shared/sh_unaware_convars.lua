--ConVar syncing
CreateConVar("ttt2_unaware_inform_others", "1", {FCVAR_ARCHIVE, FCVAR_NOTFIY, FCVAR_REPLICATED})
CreateConVar("ttt2_unaware_visible_to_traitors", "1", {FCVAR_ARCHIVE, FCVAR_NOTFIY, FCVAR_REPLICATED})
CreateConVar("ttt2_unaware_jam_team_comms", "0", {FCVAR_ARCHIVE, FCVAR_NOTFIY, FCVAR_REPLICATED})
CreateConVar("ttt2_unaware_corpse_reveal_mode", "1", {FCVAR_ARCHIVE, FCVAR_NOTFIY, FCVAR_REPLICATED})
CreateConVar("ttt2_unaware_convert_from_bigkill", "1", {FCVAR_ARCHIVE, FCVAR_NOTFIY, FCVAR_REPLICATED})
CreateConVar("ttt2_unaware_convert_from_kills", "2", {FCVAR_ARCHIVE, FCVAR_NOTFIY, FCVAR_REPLICATED})
CreateConVar("ttt2_unaware_hints_enable", "1", {FCVAR_ARCHIVE, FCVAR_NOTFIY, FCVAR_REPLICATED})
CreateConVar("ttt2_unaware_hints_bodies", "0", {FCVAR_ARCHIVE, FCVAR_NOTFIY, FCVAR_REPLICATED})
CreateConVar("ttt2_unaware_hints_knife", "1", {FCVAR_ARCHIVE, FCVAR_NOTFIY, FCVAR_REPLICATED})
CreateConVar("ttt2_unaware_hints_knife_fakebuy", "1", {FCVAR_ARCHIVE, FCVAR_NOTFIY, FCVAR_REPLICATED})
CreateConVar("ttt2_unaware_can_be_alone", "1", {FCVAR_ARCHIVE, FCVAR_NOTFIY, FCVAR_REPLICATED})
CreateConVar("ttt2_unaware_is_extra", "1", {FCVAR_ARCHIVE, FCVAR_NOTFIY, FCVAR_REPLICATED})
CreateConVar("ttt2_unaware_is_counted_as_inno", "1", {FCVAR_ARCHIVE, FCVAR_NOTFIY, FCVAR_REPLICATED})
CreateConVar("ttt2_unaware_friendly_fire_percent", "80", {FCVAR_ARCHIVE, FCVAR_NOTFIY, FCVAR_REPLICATED})
CreateConVar("ttt2_unaware_last_traitor_mode", "1", {FCVAR_ARCHIVE, FCVAR_NOTFIY, FCVAR_REPLICATED})
CreateConVar("ttt2_unaware_search_credits", "1", {FCVAR_ARCHIVE, FCVAR_NOTFIY, FCVAR_REPLICATED})
CreateConVar("ttt2_unaware_search_credits_notify", "0", {FCVAR_ARCHIVE, FCVAR_NOTFIY, FCVAR_REPLICATED})

if CLIENT then
	hook.Add("TTT2FinishedLoading", "unaware_devicon", function()
	  AddTTT2AddonDev("76561198045840138")
	end)
end


hook.Add("TTT2SyncGlobals", "AddUnawareGlobals", function()
	SetGlobalInt("ttt2_unaware_inform_others", GetConVar("ttt2_unaware_inform_others"):GetInt())
	SetGlobalInt("ttt2_unaware_visible_to_traitors", GetConVar("ttt2_unaware_visible_to_traitors"):GetInt())
	SetGlobalBool("ttt2_unaware_jam_team_comms", GetConVar("ttt2_unaware_jam_team_comms"):GetBool())
	SetGlobalInt("ttt2_unaware_corpse_reveal_mode", GetConVar("ttt2_unaware_corpse_reveal_mode"):GetInt())
	SetGlobalBool("ttt2_unaware_convert_from_bigkill", GetConVar("ttt2_unaware_convert_from_bigkill"):GetBool())
	SetGlobalInt("ttt2_unaware_convert_from_kills", GetConVar("ttt2_unaware_convert_from_kills"):GetInt())
	SetGlobalBool("ttt2_unaware_hints_enable", GetConVar("ttt2_unaware_hints_enable"):GetBool())
	SetGlobalInt("ttt2_unaware_hints_bodies", GetConVar("ttt2_unaware_hints_bodies"):GetInt())
	SetGlobalBool("ttt2_unaware_hints_knife", GetConVar("ttt2_unaware_hints_knife"):GetBool())
	SetGlobalBool("ttt2_unaware_hints_knife_fakebuy", GetConVar("ttt2_unaware_hints_knife_fakebuy"):GetBool())
	SetGlobalBool("ttt2_unaware_can_be_alone", GetConVar("ttt2_unaware_can_be_alone"):GetBool())
	SetGlobalBool("ttt2_unaware_is_extra", GetConVar("ttt2_unaware_is_extra"):GetBool())
	SetGlobalBool("ttt2_unaware_is_counted_as_inno", GetConVar("ttt2_unaware_is_counted_as_inno"):GetBool())
	SetGlobalInt("ttt2_unaware_friendly_fire_percent", GetConVar("ttt2_unaware_friendly_fire_percent"):GetInt())
	SetGlobalInt("ttt2_unaware_last_traitor_mode", GetConVar("ttt2_unaware_last_traitor_mode"):GetInt())
	SetGlobalBool("ttt2_unaware_search_credits", GetConVar("ttt2_unaware_search_credits"):GetBool())
	SetGlobalBool("ttt2_unaware_search_credits_notify", GetConVar("ttt2_unaware_search_credits_notify"):GetBool())
end)


cvars.AddChangeCallback("ttt2_unaware_inform_others", function(name, old, new)
	SetGlobalInt("ttt2_unaware_inform_others", tonumber(new))
end)
cvars.AddChangeCallback("ttt2_unaware_can_be_seen_by_traitors", function(name, old, new)
	SetGlobalInt("ttt2_unaware_can_be_seen_by_traitors", tonumber(new))
end)
cvars.AddChangeCallback("ttt2_unaware_jam_team_comms", function(name, old, new)
	SetGlobalBool("ttt2_unaware_jam_team_comms", tobool(tonumber(new)))
end)
cvars.AddChangeCallback("ttt2_unaware_corpse_reveal_mode", function(name, old, new)
	SetGlobalInt("ttt2_unaware_corpse_reveal_mode", tonumber(new))
end)
cvars.AddChangeCallback("ttt2_unaware_convert_from_bigkill", function(name, old, new)
	SetGlobalBool("ttt2_unaware_convert_from_bigkill", tobool(tonumber(new)))
end)
cvars.AddChangeCallback("ttt2_unaware_convert_from_kills", function(name, old, new)
	SetGlobalInt("ttt2_unaware_convert_from_kills", tonumber(new))
end)
cvars.AddChangeCallback("ttt2_unaware_hints_enable", function(name, old, new)
	SetGlobalBool("ttt2_unaware_hints_enable", tobool(tonumber(new)))
end)
cvars.AddChangeCallback("ttt2_unaware_hints_bodies", function(name, old, new)
	SetGlobalInt("ttt2_unaware_hints_bodies", tonumber(new))
end)
cvars.AddChangeCallback("ttt2_unaware_hints_knife", function(name, old, new)
	SetGlobalBool("ttt2_unaware_hints_knife", tobool(tonumber(new)))
end)
cvars.AddChangeCallback("ttt2_unaware_hints_knife_fakebuy", function(name, old, new)
	SetGlobalBool("ttt2_unaware_hints_knife_fakebuy", tobool(tonumber(new)))
end)
cvars.AddChangeCallback("ttt2_unaware_can_be_alone", function(name, old, new)
	SetGlobalBool("ttt2_unaware_can_be_alone", tobool(tonumber(new)))
end)
cvars.AddChangeCallback("ttt2_unaware_is_extra", function(name, old, new)
	SetGlobalBool("ttt2_unaware_is_extra", tobool(tonumber(new)))
end)
cvars.AddChangeCallback("ttt2_unaware_is_counted_as_inno", function(name, old, new)
	SetGlobalBool("ttt2_unaware_is_counted_as_inno", tobool(tonumber(new)))
end)
cvars.AddChangeCallback("ttt2_unaware_friendly_fire_percent", function(name, old, new)
	SetGlobalInt("ttt2_unaware_friendly_fire_percent", tonumber(new))
end)
cvars.AddChangeCallback("ttt2_unaware_search_credits", function(name, old, new)
	SetGlobalBool("ttt2_unaware_search_credits", tobool(tonumber(new)))
end)
cvars.AddChangeCallback("ttt2_unaware_search_credits_notify", function(name, old, new)
	SetGlobalBool("ttt2_unaware_search_credits_notify", tobool(tonumber(new)))
end)